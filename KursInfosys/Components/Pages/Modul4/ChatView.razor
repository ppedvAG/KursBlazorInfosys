@page "/chat"  
@inject ChatVM VM  
<h3>ToDo</h3>  
<div class="Container">  

    <div class="row">  

        <div class="col">  
            <div class="input-group mb-3">  
                <input type="text" class="form-control"  @bind="eingabe" >  
                <button class="btn btn-outline-secondary" type="button" @onclick="send">  
                    <i class="bi bi-send"></i> send  
                </button>  
            </div>  
        </div>  
    </div>  
    <div class="row">  

        <div class="col">  

            <ul class="list-group list-group-flush">  

                @foreach (var item in VM.ChatList)  
                {  

                    <li class='list-group-item'>  
                        @item.Message  
                    </li>  
                }  

            </ul>  
        </div>  
    </div>  

</div>  
@code {  
    string eingabe = string.Empty;  
    void send()  
    {  
        VM.AddMessage(eingabe);  
        eingabe = string.Empty;  
    }  
    override protected void OnInitialized()  
    {  
        VM.OnAdd += () => InvokeAsync(StateHasChanged);  
    }  
}
